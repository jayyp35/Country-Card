<html>
    <head>
        <Title> Country </Title>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="country.css">
    </head>

    <body>
        <div id="container">
            <div id="flagcontainer">
                <img id="flag">
            </div>
            <div id="country">
                <span id="countryname"></span>
            </div>
            <div id="data">
                <div id='datachildcontain'>
                    <div class="datachild">
                        <span>CAPITAL</span>
                        <br>
                        <span id="cap"></span>
                    </div>
                    <div class="datachild">
                        <span>REGION</span>
                        <br>
                        <span id="reg"></span>
                    </div>
                    <div class="datachild">
                        <span>REGIONAL</span>
                        <br>
                        <span id="cur"></span>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div id="select">
            <label for="countries"><b>CHOOSE COUNTRY</b></label>
            <select name="countries" id="countries">
            <option value="Bharat">Bharat</option>
            <option value="Nepal">Nepal</option>
            <option value="Pakistan">Pakistan</option>
            <option value="Qatar">Qatar</option>
            <option value="Indonesia">Indonesia</option>
            <option value="China">China</option>
            <option value="Canada">Canada</option>
            </select>
        </div>
    </body>

    <script>
        const container = document.querySelector('#container');
        const sel = document.getElementsByTagName('select')[0];
        
        
        window.addEventListener('load',get)
        sel.addEventListener('change',get)

        function get() {   
            let cont = document.getElementsByTagName('select')[0].value;     
            const setHeader = {
            headers: {
                Accept: "application/json"
                }
            }

            fetch(`https://restcountries.eu/rest/v2/name/${cont}`,setHeader)
            .then((res) => res.json()).then((data) => {
            data = data[0];
            console.log(data);
            
            document.getElementById('countryname').innerHTML = data.name;
            document.getElementById('flag').src = data.flag;
            
            document.getElementById('cap').innerHTML = data.capital;
            
            document.getElementById('reg').innerHTML = data.region;
            
            document.getElementById('cur').innerHTML = data.nativeName;
            
            }).catch((error) => {
                console.log('hi');
            })
            
        }
    </script>
</html>